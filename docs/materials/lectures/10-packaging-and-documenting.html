
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Packaging and documenting code &#8212; Reproducible and Trustworthy Workflows for Data Science</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'materials/lectures/10-packaging-and-documenting';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Automated testing and continuous integration" href="11-continuous-integration.html" />
    <link rel="prev" title="Introduction to testing code for data science" href="06-intro-to-testing-code.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../README.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../../_static/dsci-310-logo.png" class="logo__image only-light" alt="Reproducible and Trustworthy Workflows for Data Science - Home"/>
    <img src="../../_static/dsci-310-logo.png" class="logo__image only-dark pst-js-only" alt="Reproducible and Trustworthy Workflows for Data Science - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../README.html">
                    Reproducible and Trustworthy Workflows for Data Science
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Course notes</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01-intro-to-ds-workflows.html">How do reproducible and trustworthy workflows impact data science?</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-intro-to-bash.html">Introduction to the Bash Shell</a></li>



<li class="toctree-l1"><a class="reference internal" href="02-ssh-for-authentication.html">SSH for authentication</a></li>


<li class="toctree-l1"><a class="reference internal" href="02-version-control-1.html">Version control (for transparency and collaboration) I</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-version-control-2.html">Version control (for transparency and collaboration) II</a></li>
<li class="toctree-l1"><a class="reference internal" href="02-version-control-3.html">Project management using GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-filenames-project-organization.html">Filenames and data science project organization, Integrated development environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-virtual-environments.html">Virtual environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-conda-lock.html">Conda lock: reproducible lock files for conda environments.</a></li>
<li class="toctree-l1"><a class="reference internal" href="05-containerization-1.html">Introduction to containerization</a></li>
<li class="toctree-l1"><a class="reference internal" href="05-containerization-2.html">Using and running containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="05-containerization-3.html">Customizing and building containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="06-data-validation.html">Data validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="07-scripts.html">Non-interactive scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="08-reproducible-reports.html">Reproducible reports</a></li>


<li class="toctree-l1"><a class="reference internal" href="09-pipelines.html">Data analysis pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="06-intro-to-testing-code.html">Introduction to testing code for data science</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Packaging and documenting code</a></li>
<li class="toctree-l1"><a class="reference internal" href="11-continuous-integration.html">Automated testing and continuous integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="12-deploy-and-publish.html">Deploying and publishing packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="13-licenses-and-copyright.html">Copyright and licenses</a></li>
<li class="toctree-l1"><a class="reference internal" href="14-reproducibility-wrap-up.html">Workflows for reproducibile and trustworthy data science wrap-up</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix-reproducible-reports.html">Appendix - Reproducible reports</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix-functions-in-r.html">Appendix - Defining functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix-functions-in-python.html">Appendix - Defining functions in Python:</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/UBC-DSCI/reproducible-and-trustworthy-workflows-for-data-science" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/UBC-DSCI/reproducible-and-trustworthy-workflows-for-data-science/issues/new?title=Issue%20on%20page%20%2Fmaterials/lectures/10-packaging-and-documenting.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/materials/lectures/10-packaging-and-documenting.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Packaging and documenting code</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#topic-learning-objectives">Topic learning objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#when-to-start-writing-an-r-or-python-package">When to start writing an R or Python package</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#optional-video">Optional video:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tour-de-packages">Tour de packages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tour-de-r-packages">Tour de R packages</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#usethis-and-the-evolution-of-r-packaging"><code class="docutils literal notranslate"><span class="pre">usethis</span></code> and the evolution of R packaging</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#learn-more-by-building-a-toy-r-package">Learn more by building a toy R package</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tour-de-python-packages">Tour de Python packages</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#poetry-and-the-evolution-of-python-packaging">Poetry and the evolution of Python packaging</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#learn-more-by-building-a-toy-python-package">Learn more by building a toy Python package</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-package-things-for-python-and-r-packages">Key package things for Python and R packages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-a-minimal-viable-software-package">What is a minimal viable software package?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#essential-python-package-files">Essential Python package files</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-to-know-a-pyproject-toml-file-s-contents">Getting to know a <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file’s contents</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-to-know-a-init-py-file-s-contents">Getting to know a <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file’s contents</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#docs-and-github-workflows-ci-cd-yml"><code class="docutils literal notranslate"><span class="pre">docs/*</span></code> and <code class="docutils literal notranslate"><span class="pre">.github/workflows/ci-cd.yml</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#docs"><code class="docutils literal notranslate"><span class="pre">docs/*</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#github-workflows-ci-cd-yml"><code class="docutils literal notranslate"><span class="pre">.github/workflows/ci-cd.yml</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#essential-r-package-files">Essential R package files</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-to-know-a-description-file-s-contents">Getting to know a <code class="docutils literal notranslate"><span class="pre">DESCRIPTION</span></code> file’s contents</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#man-rd-files"><code class="docutils literal notranslate"><span class="pre">man/*Rd</span></code> files</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#namespace-file"><code class="docutils literal notranslate"><span class="pre">NAMESPACE</span></code> file</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cookiecutter-project-templates">Cookiecutter project templates</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise">Exercise:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#differences-in-package-building-tool-philosophy">Differences in package building tool philosophy</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#iclicker-question">iClicker question:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-class-disucssion">In class disucssion</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dealing-with-other-package-dependencies-in-your-package">Dealing with other package dependencies in your package</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dealing-with-package-dependencies-in-r">Dealing with package dependencies in R</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pipe-a-special-dependency">The pipe, <code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code>, a special dependency</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#package-documentation-for-r">Package documentation for R</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#code-level-documentation-roxygen-style-comments">Code-level documentation (Roxygen-style comments)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vignettes">Vignettes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#package-websites-via-pkgdown">Package websites (via <code class="docutils literal notranslate"><span class="pre">pkgdown</span></code>)</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="packaging-and-documenting-code">
<h1>Packaging and documenting code<a class="headerlink" href="#packaging-and-documenting-code" title="Link to this heading">#</a></h1>
<section id="topic-learning-objectives">
<h2>Topic learning objectives<a class="headerlink" href="#topic-learning-objectives" title="Link to this heading">#</a></h2>
<p>By the end of this topic, students will be able to:</p>
<ol class="arabic simple">
<li><p>Explain the circumstances in which one should consider creating a package for their code</p></li>
<li><p>Use available package development tools (e.g., <code class="docutils literal notranslate"><span class="pre">usethis</span></code> and <code class="docutils literal notranslate"><span class="pre">devtools</span></code> in R) to create a small, simple software package</p></li>
<li><p>Be able to distinguish between essential software package elements (required to make a minimal software package) and those that are not essential but act to improve the user and developer experiences.</p></li>
<li><p>Define what a namespace is.</p></li>
<li><p>Explain the role of the code within the following software package files:</p></li>
</ol>
<ul class="simple">
<li><p>Python</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__init__.py</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">docs/*</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.github/workflows/ci-cd.yml</span></code></p></li>
</ul>
</li>
<li><p>R</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">DESCRIPTION</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">NAMESPACE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">man/*.Rd</span></code></p></li>
</ul>
</li>
</ul>
<ol class="arabic simple" start="7">
<li><p>Explain at a high level how the Cookiecutter project template tool works.</p></li>
<li><p>Compare and contrast how the Cookiecutter project template tool sets up a software package structure to how <code class="docutils literal notranslate"><span class="pre">devtools</span></code> and <code class="docutils literal notranslate"><span class="pre">usethis</span></code> set up a software package.</p></li>
<li><p>Generate well formatted function and package-level documentation for software packages using available tools (e.g., <code class="docutils literal notranslate"><span class="pre">Roxygen2</span></code> and <code class="docutils literal notranslate"><span class="pre">pkgdown</span></code> in R, or numpy-style dosctrings and Sphinx in Python)</p></li>
</ol>
</section>
<section id="when-to-start-writing-an-r-or-python-package">
<h2>When to start writing an R or Python package<a class="headerlink" href="#when-to-start-writing-an-r-or-python-package" title="Link to this heading">#</a></h2>
<p>When your DRY radar goes off:</p>
<blockquote>
<div><p>It depends on your level of patience for violating the DRY principle, for me the magic number is about 3. If I repeat writing code within a single script or notebook, on the third try hair starts to stand up on the back of my neck and I am irritated sufficiently to either write a funciton or a loop. The same goes with copying files containing functions that I would like to re-use. The third time that I do this, I am convinced that I will likely want to use this code again on another project and thus I should package it to make my life easier.</p>
</div></blockquote>
<p>When you think your code has general usefulness others could benefit from:</p>
<blockquote>
<div><p>Another reason to package your code is that you think that it is a general enough solution that other people would find it useful. Doing this can be viewed as an act of altruism that also provides you professional gain by putting your data science skills on display (and padding your CV!).</p>
</div></blockquote>
<p>When you want to share data:</p>
<blockquote>
<div><p>The R package ecosystem has found great use in packaging data in addition to Software. Packaging data is beyond the scope of this course, but you should know that it is widely done in R and that you can do it if you want or need to.</p>
</div></blockquote>
<section id="optional-video">
<h3>Optional video:<a class="headerlink" href="#optional-video" title="Link to this heading">#</a></h3>
<p>I recommend watching a video from rstudio::conf 2020, called RMarkdown Driven Development by Emily Riederer, because I think it is such a nice narrative on how analysis code can evolve into software packages. Despite this talk being focused on R, it really applies to any data science language, and you could easily re-present this as “Jupyter Driven Development” or “Quarto Driven Development”.</p>
<p><a class="reference external" href="https://rstudio.com/resources/rstudioconf-2020/rmarkdown-driven-development/">RMarkdown Driven Development by Emily Riederer (video)</a></p>
</section>
</section>
<section id="tour-de-packages">
<h2>Tour de packages<a class="headerlink" href="#tour-de-packages" title="Link to this heading">#</a></h2>
<p>We will spend some time now exploring GitHub repositories of some Python and R packages to get more familiar with their internals. As we do this, fill out the missing data in the table below (which tries to match up the corresponding R and Python package key files and directories):</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Description</p></th>
<th class="head"><p>Python</p></th>
<th class="head"><p>R</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Online package repository or index</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Directory for user-facing package functions</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Directory for tests for user-facing package functions</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>Directory for documentation</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Package metadata</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>File(s) that define the Namespace</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Tool(s) for easy package creation</p></td>
<td><p></p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<div><p>Note: at the end of lecture I will review the answers to this table.</p>
</div></blockquote>
</section>
<section id="tour-de-r-packages">
<h2>Tour de R packages<a class="headerlink" href="#tour-de-r-packages" title="Link to this heading">#</a></h2>
<p>Some R packages you may want to explore:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://github.com/jennybc/foofactors"><code class="docutils literal notranslate"><span class="pre">foofactors</span></code></a> - the end product of <a class="reference external" href="https://r-pkgs.org/whole-game.html">the Whole Game Chapter</a> from the R Packages book.</p></li>
<li><p><a class="reference external" href="https://github.com/ttimbers/convertempr"><code class="docutils literal notranslate"><span class="pre">convertempr</span></code></a> - a simple example package I built as a demo for this course</p></li>
<li><p><a class="reference external" href="https://github.com/tidymodels/broom"><code class="docutils literal notranslate"><span class="pre">broom</span></code></a> - a tidyverse R package</p></li>
<li><p><a class="reference external" href="https://github.com/ropensci/tidyhydat"><code class="docutils literal notranslate"><span class="pre">tidyhydat</span></code></a> - a reviewed ROpenSci R package</p></li>
</ol>
<section id="usethis-and-the-evolution-of-r-packaging">
<h3><code class="docutils literal notranslate"><span class="pre">usethis</span></code> and the evolution of R packaging<a class="headerlink" href="#usethis-and-the-evolution-of-r-packaging" title="Link to this heading">#</a></h3>
<p>What constitutes an R package or its configuration files, has not changed in a long time. However the tools commonly used to build them have. Currently, the most straight forward, and easy way to build R packages now involves the use of two developer packages called <code class="docutils literal notranslate"><span class="pre">usethis</span></code> and <code class="docutils literal notranslate"><span class="pre">devtools</span></code>.</p>
<a class="reference internal image-reference" href="../../_images/usethis-devtools.png"><img alt="../../_images/usethis-devtools.png" src="../../_images/usethis-devtools.png" style="width: 400px;" /></a>
<p>These packages automate repetitive tasks that arise during project setup and development. It prevents you from having to do things like manually create boiler plate file and directory structures needed for building your R package structure, as well as simplifies the checking, installation and building of your package from source code.</p>
<p>Packages created via <code class="docutils literal notranslate"><span class="pre">usethis</span></code> and <code class="docutils literal notranslate"><span class="pre">devtools</span></code> can be shared so that they can be installed via source from GitHub, or as package binaries on CRAN. For a package to be shared on CRAN, there is a check and gatekeeping system (in contrast to PyPI). We will learn more about this in later parts of the course.</p>
<blockquote>
<div><p>Fun fact! Jenny Bryan, a past UBC Statistics Professor UBC MDS founder, is the maintainer for the <code class="docutils literal notranslate"><span class="pre">usethis</span></code> R package!</p>
</div></blockquote>
</section>
<section id="learn-more-by-building-a-toy-r-package">
<h3>Learn more by building a toy R package<a class="headerlink" href="#learn-more-by-building-a-toy-r-package" title="Link to this heading">#</a></h3>
<p>For invidividual assignment 5, you will build a toy R package using a tutorial Jenny Bryan put together: <a class="reference external" href="https://r-pkgs.org/whole-game.html">The Whole Game</a></p>
<p>After building the toy package, read <a class="reference external" href="https://r-pkgs.org/package-structure-state.html">Package structure and state</a> to deepen your understanding of what packaging means in R and what packages actually are.</p>
</section>
</section>
<section id="tour-de-python-packages">
<h2>Tour de Python packages<a class="headerlink" href="#tour-de-python-packages" title="Link to this heading">#</a></h2>
<p>Some Python packages you may want to explore:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://github.com/TomasBeuzen/pycounts_tb"><code class="docutils literal notranslate"><span class="pre">pycounts_tb</span></code></a> - the end product of <a class="reference external" href="https://py-pkgs.org/03-how-to-package-a-python">How to Package a Python</a> from the Python Packages book</p></li>
<li><p><a class="reference external" href="https://github.com/ttimbers/convertempPy"><code class="docutils literal notranslate"><span class="pre">convertempPy</span></code></a> - a simple example package I built as a demo for this course</p></li>
<li><p><a class="reference external" href="https://github.com/UNCG-DAISY/PyWebCAT"><code class="docutils literal notranslate"><span class="pre">PyWebCAT</span></code></a> - a Pythonic way to interface with the NOAA National Ocean Service Web Camera Applications Testbed (WebCAT)</p></li>
<li><p><a class="reference external" href="https://github.com/yannvgn/laserembeddings"><code class="docutils literal notranslate"><span class="pre">laserembeddings</span></code></a> - a Python package (uses the Poetry approach to creating Python packages)</p></li>
<li><p><a class="reference external" href="https://github.com/pandera-dev/pandera"><code class="docutils literal notranslate"><span class="pre">pandera</span></code></a> - a reviewed PyOpenSci Python package (uses more traditional approach to creating Python packages)</p></li>
</ol>
<section id="poetry-and-the-evolution-of-python-packaging">
<h3>Poetry and the evolution of Python packaging<a class="headerlink" href="#poetry-and-the-evolution-of-python-packaging" title="Link to this heading">#</a></h3>
<p>If you want to package your Python code and distribute for ease of use by others on the Python Packaging Index (PyPI) you need to convert it to a standard format called Wheel.</p>
<p>Previously, to do this it was standard to have 4 configuration files in your package repository:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">setup.py</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MANIFEST.in</span></code></p></li>
</ul>
<p>In 2016, a new PEP (<a class="reference external" href="https://www.python.org/dev/peps/pep-0518/">518</a>) was made. This PEP defined a new configuration format, <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>, so that now a single file can be used in place of those previous four. This file must have at least two sections, <code class="docutils literal notranslate"><span class="pre">[build-system]</span></code> and <code class="docutils literal notranslate"><span class="pre">[tool]</span></code>.</p>
<p>This new single configuration file has inspired some new tools to be created in the package building and management ecosystem in Python. One of the most recent and simplest to use is Poetry (created in 2018). When used to build packages, Poetry roughly does two things:</p>
<ol class="arabic simple">
<li><p>Uses the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> to manage and solve package configurations via the Poetry commands <code class="docutils literal notranslate"><span class="pre">init</span></code>, <code class="docutils literal notranslate"><span class="pre">add</span></code>, <code class="docutils literal notranslate"><span class="pre">config</span></code>, etc</p></li>
<li><p>Creates a lock file (<code class="docutils literal notranslate"><span class="pre">poetry.lock</span></code>) which automatically creates and activates a virtual environment (if none are activated) where the Poetry commands such as <code class="docutils literal notranslate"><span class="pre">install</span></code>, <code class="docutils literal notranslate"><span class="pre">build</span></code>, <code class="docutils literal notranslate"><span class="pre">run</span></code>, etc are executed.</p></li>
</ol>
<p>Cookiecutter templates are also useful to help setup the biolerplate project and directory structure needed for packages. We will use these in this course as well.</p>
</section>
<section id="learn-more-by-building-a-toy-python-package">
<h3>Learn more by building a toy Python package<a class="headerlink" href="#learn-more-by-building-a-toy-python-package" title="Link to this heading">#</a></h3>
<p>For an optional/bonus part of invidividual assignment 5, you can choose to build a toy Python package using a tutorial we have put together for you: <a class="reference external" href="https://py-pkgs.org/03-how-to-package-a-python">How to package a Python</a></p>
<p>After building the toy package, read <a class="reference external" href="https://py-pkgs.org/04-package-structure">Package structure and state</a> to deepen your understanding of what packaging means in Python and what packages actually are.</p>
</section>
</section>
<section id="key-package-things-for-python-and-r-packages">
<h2>Key package things for Python and R packages<a class="headerlink" href="#key-package-things-for-python-and-r-packages" title="Link to this heading">#</a></h2>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Description</p></th>
<th class="head"><p>Python</p></th>
<th class="head"><p>R</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Online package repository or index</p></td>
<td><p>PyPI</p></td>
<td><p>CRAN</p></td>
</tr>
<tr class="row-odd"><td><p>Directory for user-facing package functions</p></td>
<td><p>Package directory (a named directory within the project root that contians <code class="docutils literal notranslate"><span class="pre">.py</span></code> files and a <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">R</span></code> directory</p></td>
</tr>
<tr class="row-even"><td><p>Directory for tests for user-facing package functions</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tests</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">tests/testthat</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Directory for documentation</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">docs</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">man</span></code> and <code class="docutils literal notranslate"><span class="pre">vignettes</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Package metadata</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">DESCRIPTION</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>File(s) that define the Namespace</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">__init__.py</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">NAMESPACE</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Tool(s) for easy package creation</p></td>
<td><p>Cookiecutter &amp; Poetry</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">usethis</span></code> &amp; <code class="docutils literal notranslate"><span class="pre">devtools</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="what-is-a-minimal-viable-software-package">
<h2>What is a minimal viable software package?<a class="headerlink" href="#what-is-a-minimal-viable-software-package" title="Link to this heading">#</a></h2>
<p>In this course, we are learning to build software packages in R and Python to a high standard,
with regards to:</p>
<ul class="simple">
<li><p>code robustness</p></li>
<li><p>documentation</p></li>
<li><p>collaboration strategies</p></li>
</ul>
<p>This is really great, but that means there are a LOT of files to track and learn about. What can be helpful is to know and be able to identify which files are essential to make a locally installable software package.</p>
<section id="essential-python-package-files">
<h3>Essential Python package files<a class="headerlink" href="#essential-python-package-files" title="Link to this heading">#</a></h3>
<p>Using the project layout we recommend for this course,
here is a Python package structure with only the most essential files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pkg
├── pyproject.toml             
└── src                       
    └── pkg              
        ├── __init__.py        
        └── module.py  
</pre></div>
</div>
<p>What do each of these do?</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> stores all the metadata and install instructions for the package.</p></li>
<li><p>The presence of the <code class="docutils literal notranslate"><span class="pre">src</span></code> directory defines the code that will form the installable version of your package (meaning that users only get this code when they install the package, and that developers must install the package before running their tests).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> tells Python that a directory is a package. They can be left empty, or they can also be used to add objects to the package’s namespace, provide documentation, and/or run other initialization code.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">module.py</span></code> (this one can be named something else!) contains the functions you would like to share with your package users.</p></li>
</ul>
<section id="getting-to-know-a-pyproject-toml-file-s-contents">
<h4>Getting to know a <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file’s contents<a class="headerlink" href="#getting-to-know-a-pyproject-toml-file-s-contents" title="Link to this heading">#</a></h4>
<p>Here is an example <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[tool.poetry]                                          ┐
name = &quot;pycounts_tt_2024&quot;                              │
version = &quot;0.1.0&quot;                                      │ Package metadata
description = &quot;Calculate word counts in a text file!&quot;  │
authors = [&quot;Tiffany Timbers&quot;]                          │
license = &quot;MIT&quot;                                        │
readme = &quot;README.md&quot;                                   ┘

[tool.poetry.dependencies]                             ┐ 
python = &quot;&gt;=3.9&quot;                                       │ User function dependencies
matplotlib = &quot;&gt;=3.8.2&quot;                                 ┘

[tool.poetry.dev-dependencies]                         ┐
                                                       │
[tool.poetry.group.dev.dependencies]                   │
pytest = &quot;&gt;=7.4.4&quot;                                     │
pytest-cov = &quot;&gt;=4.1.0&quot;                                 │ Developer dependencies
jupyter = &quot;&gt;=1.0.0&quot;                                    │
myst-nb = {version = &quot;^1.0.0&quot;, python = &quot;^3.9&quot;}        │
sphinx-autoapi = &quot;^3.0.0&quot;                              │
sphinx-rtd-theme = &quot;^2.0.0&quot;                            ┘

[build-system]                                         ┐
requires = [&quot;poetry-core&gt;=1.0.0&quot;]                      │ Package build dependencies
build-backend = &quot;poetry.core.masonry.api&quot;              ┘
</pre></div>
</div>
<p>Almost everything inside this file is customizable based on your package. Even the build system!
<code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> can also be used with other build tools such as setuptools and flit!
If you are interested in learning more, checkout the <a class="reference external" href="https://www.pyopensci.org/python-package-guide/package-structure-code/python-package-build-tools.html">Python Packaging Tools guide</a> from PyOpenSci.</p>
</section>
<section id="getting-to-know-a-init-py-file-s-contents">
<h4>Getting to know a <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file’s contents<a class="headerlink" href="#getting-to-know-a-init-py-file-s-contents" title="Link to this heading">#</a></h4>
<p>As mentioned earlier, this file can serve it’s essential package function of telling Python that this directory is a package by just existing and being empty. It can however serve other purposes. Let’s discuss the code that exists in the <code class="docutils literal notranslate"><span class="pre">py-pkgs-cookiecutter</span></code> template:</p>
<p>The <code class="docutils literal notranslate"><span class="pre">py-pkgs-cookiecutter</span></code> we used to create our <code class="docutils literal notranslate"><span class="pre">pycounts</span></code> package (<a class="reference external" href="https://py-pkgs.org/03-how-to-package-a-python#creating-a-package-structure">Section 3.2.2</a>) already populated our <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file with this code for us:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># read version from installed package</span>
<span class="kn">from</span> <span class="nn">importlib.metadata</span> <span class="kn">import</span> <span class="n">version</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="n">version</span><span class="p">(</span><span class="s2">&quot;pycounts&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Because this code is in <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> is executed when the package is imported (this is the case for all <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> files, we can ask for the package version with Python code like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pycounts</span>
<span class="n">pycounts</span><span class="o">.</span><span class="n">__version__</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">0.1.0</span>
</pre></div>
</div>
<p>In the code in <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> we get the version from the package metadata, that is derived from <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>. This allows us to only have to update the version of our package in one place when we bump to a new version.</p>
<p>What other kinds of interesting things can we do with <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code>? Well we can use it to control the import behavior of a package. For example, there are currently only two main functions that users will commonly use from our <code class="docutils literal notranslate"><span class="pre">pycounts</span></code> package: <code class="docutils literal notranslate"><span class="pre">pycounts.count_words()</span></code> and <code class="docutils literal notranslate"><span class="pre">plotting.plot_words()</span></code>. Users have to type the full path to these functions to import them:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pycounts.pycounts</span> <span class="kn">import</span> <span class="n">count_words</span>
<span class="kn">from</span> <span class="nn">pycounts.plotting</span> <span class="kn">import</span> <span class="n">plot_words</span>
</pre></div>
</div>
<p>If we import those core functions in <code class="docutils literal notranslate"><span class="pre">pycounts</span></code>’s <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file, which would bind them to the package namespace, we can make our user’s experience of loading them easier!</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># read version from installed package</span>
<span class="kn">from</span> <span class="nn">importlib.metadata</span> <span class="kn">import</span> <span class="n">version</span>
<span class="n">__version__</span> <span class="o">=</span> <span class="n">version</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>

<span class="c1"># populate package namespace</span>
<span class="kn">from</span> <span class="nn">pycounts.pycounts</span> <span class="kn">import</span> <span class="n">count_words</span>
<span class="kn">from</span> <span class="nn">pycounts.plotting</span> <span class="kn">import</span> <span class="n">plot_words</span>
</pre></div>
</div>
<p>The functions are now bound to the pycounts namespace, so users can access them like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pycounts</span>
<span class="n">pycounts</span><span class="o">.</span><span class="n">count_words</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">function</span> <span class="n">count_words</span><span class="o">&gt;</span>

</pre></div>
</div>
<p>What is a namespace again? A “namespace” is a set of names that are used to identify and refer to objects of various kinds (source: <a class="reference external" href="https://en.wikipedia.org/wiki/Namespace">Wikipedia</a>).</p>
</section>
</section>
<section id="docs-and-github-workflows-ci-cd-yml">
<h3><code class="docutils literal notranslate"><span class="pre">docs/*</span></code> and <code class="docutils literal notranslate"><span class="pre">.github/workflows/ci-cd.yml</span></code><a class="headerlink" href="#docs-and-github-workflows-ci-cd-yml" title="Link to this heading">#</a></h3>
<p>We will cover both these topics in greater detail later (<code class="docutils literal notranslate"><span class="pre">docs/*</span></code> in the documentation chapter/lecture and <code class="docutils literal notranslate"><span class="pre">.github/workflows/ci-cd.yml</span></code> in the continuous integration and deployment chapter/lecture), but for now it’s helpful to get a bit better of an idea of these files and what they are doing.</p>
<section id="docs">
<h4><code class="docutils literal notranslate"><span class="pre">docs/*</span></code><a class="headerlink" href="#docs" title="Link to this heading">#</a></h4>
<p>To keep things organized, to and to make the package documentation easier to automate, we keep the documentation files in the <code class="docutils literal notranslate"><span class="pre">docs</span></code> directory and use a <code class="docutils literal notranslate"><span class="pre">Makefile</span></code> (or <code class="docutils literal notranslate"><span class="pre">make.bat</span></code> on Windows) therein to automate their rendering.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>docs
   ├── changelog.md
   ├── conduct.md
   ├── conf.py
   ├── contributing.md
   ├── example.ipynb
   ├── index.md
   ├── make.bat
   └── requirements.txt (deprecated)
</pre></div>
</div>
<p>Note that many of these files also commonly exist in the root of projects and people expect to find them there!!! These include:</p>
<ul class="simple">
<li><p>changelog.md</p></li>
<li><p>conduct.md</p></li>
<li><p>contributing.md</p></li>
</ul>
<p>So what we have done is pointed the <code class="docutils literal notranslate"><span class="pre">doc/*.md</span></code>’s of these files to the contents these files in the project root. And at rendering, their content will be used instead! If you look at the raw source of one of these files (e.g., conduct.md) you will see:</p>
<a class="reference internal image-reference" href="../../_images/python-docs-md-content.png"><img alt="../../_images/python-docs-md-content.png" src="../../_images/python-docs-md-content.png" style="width: 500px;" /></a>
<p>This helps keep our docs up to date by not having two places to update them!</p>
<p><code class="docutils literal notranslate"><span class="pre">conf.py</span></code> is a configuration file that specifies style and formatting for the documentation. In this course we will not be modifying it, but if you wanted you can! To do this, please first read the docs for <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/configuration.html">Sphinx configuration here</a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file in the <code class="docutils literal notranslate"><span class="pre">pypkgs-cookiecutter</span></code> template is now deprecated and will be removed in a future version. All dependencies are now managed by <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code>.</p>
</section>
<section id="github-workflows-ci-cd-yml">
<h4><code class="docutils literal notranslate"><span class="pre">.github/workflows/ci-cd.yml</span></code><a class="headerlink" href="#github-workflows-ci-cd-yml" title="Link to this heading">#</a></h4>
<p>This file contains automation code for continuous integration and delivery of our Python software package, reading the steps in this file you will see that it does the following:</p>
<ol class="arabic simple">
<li><p>Continuous integration tasks:</p></li>
</ol>
<ul class="simple">
<li><p>installs your package</p></li>
<li><p>runs the test suite</p></li>
<li><p>calculates test coverage</p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p>Continous deployment tasks:</p></li>
</ol>
<ul class="simple">
<li><p>bumps the package software version, as well as prepares and creates a GitHub release of the package</p></li>
<li><p>builds the package</p></li>
<li><p>publishes it to the package repository (i.e., TestPyPI or PyPI, or both)</p></li>
</ul>
<p>When we first start building our packages, the GitHub Actions workflows for most of these things will fail. That is to be expected! As you complete the tasks for setting each of these up (e.g., writing tests and package code, setting up authentication to PyPI using GitHub secrets, etc) then the GitHub Actions workflows should start passing.
This is a consequence of the philosophy of the <code class="docutils literal notranslate"><span class="pre">pypkgs-cookiecutter</span></code> template tool.</p>
</section>
</section>
<section id="essential-r-package-files">
<h3>Essential R package files<a class="headerlink" href="#essential-r-package-files" title="Link to this heading">#</a></h3>
<p>Using the project layout we recommend for this course,
here is a R package structure with only the most essential files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>pkg
├── DESCRIPTION
├── man                       
│   ├── functionA.Rd
│   └── functionB.Rd
├── NAMESPACE                
└── R                       
    └── functions.R               
</pre></div>
</div>
<p>What do each of these do?</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DESCRIPTION</span></code> stores all the metadata and dependency installation instructions for the package.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">man</span></code> directory contains the function documentation in <code class="docutils literal notranslate"><span class="pre">.Rd</span></code> files (one per function). The contents are from these are generated from the <code class="docutils literal notranslate"><span class="pre">ROxygen2</span></code> function documentation in the <code class="docutils literal notranslate"><span class="pre">R/*.R</span></code> files.</p></li>
<li><p>Unsurprisingly, the <code class="docutils literal notranslate"><span class="pre">NAMESPACE</span></code> file is important in defining your package’s namespace.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">R</span></code> is the directory for the <code class="docutils literal notranslate"><span class="pre">*.R</span></code> files which contain your exported (i.e., user-facing) functions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">functions.R</span></code> (this one can be named something else!) contains the functions you would like to share with your package users.</p></li>
</ul>
<section id="getting-to-know-a-description-file-s-contents">
<h4>Getting to know a <code class="docutils literal notranslate"><span class="pre">DESCRIPTION</span></code> file’s contents<a class="headerlink" href="#getting-to-know-a-description-file-s-contents" title="Link to this heading">#</a></h4>
<p>Here is an example <code class="docutils literal notranslate"><span class="pre">DESCRIPTION</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Package: foofactors                                                         ┐
Title: Make Factors Less Aggravating                                        │
Version: 0.0.0.9000                                                         │
Authors@R:                                                                  │
    person(given = &quot;Tiffany&quot;,                                               │ Package metadata
           family = &quot;Timbers&quot;,                                              │
           role = c(&quot;aut&quot;, &quot;cre&quot;),                                          │
           email = &quot;tiffany.timbers@gmail.com&quot;,                             │
           comment = c(ORCID = &quot;0000-0002-2667-376X&quot;))                      │
Description: Factors have driven people to extreme measures, like ordering  │
    custom conference ribbons and laptop stickers to express how HELLNO we  │
    feel about stringsAsFactors. And yet, sometimes you need them. Can they │
    be made less maddening? Let&#39;s find out.                                 │
License: MIT + file LICENSE                                                 │
Encoding: UTF-8                                                             │
LazyData: true                                                              ┘
Roxygen: list(markdown = TRUE)                                              ┐
RoxygenNote: 7.0.2                                                          │ Developer dependencies
Suggests:                                                                   │
    testthat (&gt;= 2.1.0),                                                    │
    covr                                                                    ┘
Imports:                                                                    ┐ User function depenedencies
    forcats                                                                 ┘ 
URL: https://github.com/ttimbers/foofactors                                 ┐ More package metadata
BugReports: https://github.com/ttimbers/foofactors/issues                   ┘
</pre></div>
</div>
<p>This is equivalent to the <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file in Python packages. Again, almost everything in it is customizable based on your package’s specifics.</p>
</section>
<section id="man-rd-files">
<h4><code class="docutils literal notranslate"><span class="pre">man/*Rd</span></code> files<a class="headerlink" href="#man-rd-files" title="Link to this heading">#</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">man</span></code> directory contains the function documentation in <code class="docutils literal notranslate"><span class="pre">.Rd</span></code> files (one per function). These can be created from the function’s <code class="docutils literal notranslate"><span class="pre">roxygen2</span></code> documentation using <code class="docutils literal notranslate"><span class="pre">devtools::document</span></code>. They use a custom syntax that is loosely based on LaTeX, which can be rendered to different formats for sharing with the package users.</p>
<p>For example, this <code class="docutils literal notranslate"><span class="pre">roxygen2</span></code> documention in <code class="docutils literal notranslate"><span class="pre">R/fbind.R</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#&#39; Bind two factors</span>
<span class="c1">#&#39;</span>
<span class="c1">#&#39; Create a new factor from two existing factors, where the new factor&#39;s levels</span>
<span class="c1">#&#39; are the union of the levels of the input factors.</span>
<span class="c1">#&#39;</span>
<span class="c1">#&#39; @param a factor</span>
<span class="c1">#&#39; @param b factor</span>
<span class="c1">#&#39;</span>
<span class="c1">#&#39; @return factor</span>
<span class="c1">#&#39; @export</span>
<span class="c1">#&#39; @examples</span>
<span class="c1">#&#39; fbind(iris$Species[c(1, 51, 101)], PlantGrowth$group[c(1, 11, 21)])</span>
</pre></div>
</div>
<p>gives this syntax (loosely based on LaTeX) in <code class="docutils literal notranslate"><span class="pre">man/bind.Rd</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/fcount.R
\name{fcount}
\alias{fcount}
\title{Make a sorted frequency table for a factor}
\usage{
fcount(x)
}
\arguments{
\item{x}{factor}
}
\value{
A tibble
}
\description{
Make a sorted frequency table for a factor
}
\examples{
fcount(iris$Species)
}
</pre></div>
</div>
</section>
<section id="namespace-file">
<h4><code class="docutils literal notranslate"><span class="pre">NAMESPACE</span></code> file<a class="headerlink" href="#namespace-file" title="Link to this heading">#</a></h4>
<p>In it are commands applied to R objects. Common commands include indicating that a function should be exported from your package, and/or that a another package should be imported to be used internally. The contents of this file are best to be created automatically using <code class="docutils literal notranslate"><span class="pre">devtools</span></code> to pull this information from the package function’s <code class="docutils literal notranslate"><span class="pre">roxygen2</span></code> documentation (exports) and the <code class="docutils literal notranslate"><span class="pre">DESCRIPTION</span></code> file (imports).</p>
<p>Here’s an example <code class="docutils literal notranslate"><span class="pre">NAMESPACE</span></code> file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generated by roxygen2: do not edit by hand</span>

<span class="n">export</span><span class="p">(</span><span class="n">compare</span><span class="p">)</span>
<span class="n">export</span><span class="p">(</span><span class="n">expect_equal</span><span class="p">)</span>
<span class="n">import</span><span class="p">(</span><span class="n">rlang</span><span class="p">)</span>
<span class="n">importFrom</span><span class="p">(</span><span class="n">brio</span><span class="p">,</span><span class="n">readLines</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="cookiecutter-project-templates">
<h3>Cookiecutter project templates<a class="headerlink" href="#cookiecutter-project-templates" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://cookiecutter.readthedocs.io/en/stable/#"><code class="docutils literal notranslate"><span class="pre">Cookiecutter</span></code></a> is a general Python tool for repeatedly generating a desired file and directory structure.</p>
<p>Many many many Python <a class="reference external" href="https://cookiecutter.readthedocs.io/en/stable/#"><code class="docutils literal notranslate"><span class="pre">Cookiecutter</span></code></a> templates already exist, this search on GitHub (linked to from the <a class="reference external" href="https://cookiecutter.readthedocs.io/en/stable/#"><code class="docutils literal notranslate"><span class="pre">Cookiecutter</span></code></a> documentation) identifies 9000 repositories!!!</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/search?q=cookiecutter&amp;amp;amp%3Btype=Repositories&amp;amp;type=repositories">https://github.com/search?q=cookiecutter&amp;amp%3Btype=Repositories&amp;type=repositories</a></p></li>
</ul>
<p>How does it work? It uses the concept of code templating and uses the <a class="reference external" href="https://jinja.palletsprojects.com/en/3.1.x/"><code class="docutils literal notranslate"><span class="pre">Jinja</span></code></a> templating engine.
Special syntax (involving <code class="docutils literal notranslate"><span class="pre">{{</span></code>) is used to specify parts of the code that should be
“filled in” with user input (from a function call if interacting directly with the <code class="docutils literal notranslate"><span class="pre">Jinja</span></code>
API, or the keyboard if using <code class="docutils literal notranslate"><span class="pre">Cookiecutter</span></code>).
The input is then used to replace the placeholder text in the code
(denoted by the special syntax involving <code class="docutils literal notranslate"><span class="pre">{{</span></code>).
This allows template code to be automatically filled in and reused again and again!</p>
</section>
<section id="exercise">
<h3>Exercise:<a class="headerlink" href="#exercise" title="Link to this heading">#</a></h3>
<p>Let’s explore the <code class="docutils literal notranslate"><span class="pre">pypkgs-cookiecutter</span></code> to get to know how the Cookiecutter project template tool works in the case of <code class="docutils literal notranslate"><span class="pre">pypkgs-cookiecutter</span></code>, and in general!</p>
<ul class="simple">
<li><p>Go to: <a class="github reference external" href="https://github.com/py-pkgs/py-pkgs-cookiecutter">py-pkgs/py-pkgs-cookiecutter</a></p></li>
<li><p>Looks at: <a class="github reference external" href="https://github.com/py-pkgs/py-pkgs-cookiecutter/blob/main/cookiecutter.json">py-pkgs/py-pkgs-cookiecutter</a></p></li>
<li><p>Look for all the places you see <code class="docutils literal notranslate"><span class="pre">{{</span> <span class="pre">cookiecutter.__SOMETHING</span> <span class="pre">}}</span></code></p></li>
</ul>
</section>
<section id="differences-in-package-building-tool-philosophy">
<h3>Differences in package building tool philosophy<a class="headerlink" href="#differences-in-package-building-tool-philosophy" title="Link to this heading">#</a></h3>
<section id="iclicker-question">
<h4>iClicker question:<a class="headerlink" href="#iclicker-question" title="Link to this heading">#</a></h4>
<p>Setting the programming language differences aside (and the technical issues with the <code class="docutils literal notranslate"><span class="pre">pypkgs-Cookiecutter</span></code> at the beginning of last week), which approach to package building did you prefer?</p>
<p>A. Adding package components step-by-step as needed, like you did when using <code class="docutils literal notranslate"><span class="pre">devtools</span></code>/<code class="docutils literal notranslate"><span class="pre">usethis</span></code> to create an R package.</p>
<p>B. Setting up the project template in one fell swoop (i.e., once at the beginning of the project), like you did when using <code class="docutils literal notranslate"><span class="pre">pypkgs-Cookiecutter</span></code> to create an R package.</p>
</section>
<section id="in-class-disucssion">
<h4>In class disucssion<a class="headerlink" href="#in-class-disucssion" title="Link to this heading">#</a></h4>
<ol class="arabic simple">
<li><p>What are the advantages and disadvantages of the <code class="docutils literal notranslate"><span class="pre">devtools</span></code>/<code class="docutils literal notranslate"><span class="pre">usethis</span></code> software package building approach in R?</p></li>
</ol>
<ul class="simple">
<li><p>Advantages:</p>
<ul>
<li><p>Not overwhelming for beginners, since you just add one thing at a time.</p></li>
<li><p>Allows you to redo the one thing you made a mistake on.</p></li>
</ul>
</li>
<li><p>Disadvantages:</p>
<ul>
<li><p>Easy to forget to add or do somethings, as you need to run a different command each time.</p></li>
<li><p>Somewhat inefficient as a command needs to be run each time you want to add a new feature to the package.</p></li>
</ul>
</li>
</ul>
<ol class="arabic simple" start="2">
<li><p>What are the advantages and disadvantages of the <code class="docutils literal notranslate"><span class="pre">pypkgs-Cookiecutter</span></code> software package building approach in Python?</p></li>
</ol>
<ul class="simple">
<li><p>Advantages:</p>
<ul>
<li><p>Minimizes forgetting to dd or do somethings, because you just have one setup step at the beginning.</p></li>
<li><p>Efficient because you just have one setup step at the beginning.</p></li>
</ul>
</li>
<li><p>Disadvantages:</p>
<ul>
<li><p>Can be overwhelming for beginners, since you generate a large number of files at one time.</p></li>
<li><p>Takes a lot of time to when you make a mistake (e.g., typo in package name) because you need to manually got back and fix things.</p></li>
<li><p>Sets everything up at the beginning, including the things you are not yet ready for (e.g., Continuous integration and deployment workflows on GitHub actions) and there are some annoying consequences of this (e.g., notifications about failed checks).</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>
<section id="dealing-with-other-package-dependencies-in-your-package">
<h2>Dealing with other package dependencies in your package<a class="headerlink" href="#dealing-with-other-package-dependencies-in-your-package" title="Link to this heading">#</a></h2>
<section id="dealing-with-package-dependencies-in-r">
<h3>Dealing with package dependencies in R<a class="headerlink" href="#dealing-with-package-dependencies-in-r" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>When we write code in our package that uses functions from other packages we need to import those functions from the namespace of their packages.</p></li>
<li><p>In R, we do this via <code class="docutils literal notranslate"><span class="pre">use_package</span></code>, which adds that package to the “Imports” section of DESCRIPTION</p></li>
<li><p>We also need to refer to that package in our function code, there are two ways to do this:</p>
<ol class="arabic simple">
<li><p>refer the function by <code class="docutils literal notranslate"><span class="pre">package::fun_name</span></code> (e.g., <code class="docutils literal notranslate"><span class="pre">dplyer::filter</span></code>) whenever you use the function in your code</p></li>
<li><p>add the function to your packages namespace so that you can just refer to it as your normally would. To do this add <code class="docutils literal notranslate"><span class="pre">&#64;importFrom</span> <span class="pre">&lt;package_name&gt;</span> <span class="pre">&lt;function_or_operator&gt;</span></code> to the Roxygen documentation of the function that you would like to use the function from the other package in and then use <code class="docutils literal notranslate"><span class="pre">document()</span></code> to update the DESCRIPTION and NAMESPACE file.</p></li>
</ol>
</li>
</ul>
<p><em>It is recommended to use method 1 (<code class="docutils literal notranslate"><span class="pre">pkg::fun_name</span></code>) because it is more explicit on what external functions your package code depends on (making it easier to read for collaborators, including future you). The trade off is that it’s a little more work to write.</em></p>
</section>
<section id="the-pipe-a-special-dependency">
<h3>The pipe, <code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code>, a special dependency<a class="headerlink" href="#the-pipe-a-special-dependency" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Given the ubiquity of the pipe operator, <code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code>, in R, there is a function that automates exposing to your entire package: <code class="docutils literal notranslate"><span class="pre">usethis::use_pipe()</span></code></p></li>
<li><p>Note, in general, the tidyverse team does not recommend using the pipe in packages unless they are personal, low use packages, or “pro” packages with a lot of data wrangling because:</p>
<ul>
<li><p>In most cases it is really an unnecessary dependency</p></li>
<li><p>It is not that readable for folks who do not typically use the pipe</p></li>
<li><p>makes debugging more challenging</p></li>
</ul>
</li>
</ul>
<p>So, should you use the pipe in your package? The answer is, it depends on your package’s scope, aims and goals. Also, this is probably your first package, so it doesn’t have to be perfect. If using the pipe helps you get the job done this time around, go for it. Just know that if you aim to ever build a widely used package, you probably do not want to depend on it.</p>
<blockquote>
<div><p>Note: with the advent of the base R pipe <code class="docutils literal notranslate"><span class="pre">|&gt;</span></code>, you can now use that pipe and no longer have to add it as a dependency!</p>
</div></blockquote>
</section>
</section>
<section id="package-documentation-for-r">
<h2>Package documentation for R<a class="headerlink" href="#package-documentation-for-r" title="Link to this heading">#</a></h2>
<p>There are several levels of documentation possible for R packages:</p>
<ul class="simple">
<li><p>code-level documentation (Roxygen-style comments)</p></li>
<li><p>vignettes</p></li>
<li><p>package websites (via <code class="docutils literal notranslate"><span class="pre">pkgdown</span></code>)</p></li>
</ul>
<section id="code-level-documentation-roxygen-style-comments">
<h3>Code-level documentation (Roxygen-style comments)<a class="headerlink" href="#code-level-documentation-roxygen-style-comments" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>We learned the basics of how to write Roxygen-style comments in DSCI 511</p></li>
<li><p>In the package context, there are Namespace tags you should know about:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;export</span></code> - this should be added to all package functions you want your user to know about</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;NoRd</span></code> - this should be added to helper/internal helper functions that you don’t want your user to know about</p></li>
</ul>
</li>
</ul>
</section>
<section id="vignettes">
<h3>Vignettes<a class="headerlink" href="#vignettes" title="Link to this heading">#</a></h3>
<p>It is common for packages to have vignettes (think demos with narratives) showing how to use the package in a more real-world scenario than the documentation examples show. Think of your vignette as a demonstration of how someone would use your function to solve a problem.</p>
<ul>
<li><p>It should demonstrate how the individual functions in your package work, as well as how they can be integrated together.</p></li>
<li><p>To create a template for your vignette, run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">usethis</span><span class="p">::</span><span class="n">use_vignette</span><span class="p">(</span><span class="s2">&quot;package_name-vignette&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Add content to that file and knit it when done.</p></li>
</ul>
<p>As an example, here’s the <code class="docutils literal notranslate"><span class="pre">dplyr</span></code> vignette: <a class="reference external" href="https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html">https://cran.r-project.org/web/packages/dplyr/vignettes/dplyr.html</a></p>
</section>
<section id="package-websites-via-pkgdown">
<h3>Package websites (via <a class="reference external" href="https://pkgdown.r-lib.org/"><code class="docutils literal notranslate"><span class="pre">pkgdown</span></code></a>)<a class="headerlink" href="#package-websites-via-pkgdown" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Vignettes are very helpful, however they are not that discoverable by others, websites are a much easier way to share your package with others.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">pkgdown</span></code> R package let’s you build a beautiful website for your R package in 4 steps!</p>
<ol class="arabic simple">
<li><p>Turn on GitHub pages in your package repository, setting <code class="docutils literal notranslate"><span class="pre">main</span> <span class="pre">branch</span> <span class="pre">/</span> <span class="pre">docs</span> <span class="pre">folder</span></code> as the source.</p></li>
<li><p>Install <code class="docutils literal notranslate"><span class="pre">pkgdown</span></code>: `install.packages(“pkgdown”)</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">pkgdown::build_site()</span></code> from the root of your project, and commit and push the changes made by this.</p></li>
<li><p>Push your code, including the <code class="docutils literal notranslate"><span class="pre">docs</span></code> directory to GitHub.com</p></li>
</ol>
</li>
</ul>
<p>In addition to the beautiful website, <code class="docutils literal notranslate"><span class="pre">pkgdown</span></code> automatically links to your vignette under the articles section of the website!!! 🎉🎉🎉</p>
<blockquote>
<div><p>Note you can also configure a GitHub Actions workflow to automate the rebuilding of the <code class="docutils literal notranslate"><span class="pre">pkgdown</span></code> site
anytime changes are pushed to your package’s GitHub repository.
We will discuss this later in the course under the topic of continuous deployment.</p>
</div></blockquote>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./materials/lectures"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="06-intro-to-testing-code.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Introduction to testing code for data science</p>
      </div>
    </a>
    <a class="right-next"
       href="11-continuous-integration.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Automated testing and continuous integration</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#topic-learning-objectives">Topic learning objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#when-to-start-writing-an-r-or-python-package">When to start writing an R or Python package</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#optional-video">Optional video:</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tour-de-packages">Tour de packages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tour-de-r-packages">Tour de R packages</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#usethis-and-the-evolution-of-r-packaging"><code class="docutils literal notranslate"><span class="pre">usethis</span></code> and the evolution of R packaging</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#learn-more-by-building-a-toy-r-package">Learn more by building a toy R package</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tour-de-python-packages">Tour de Python packages</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#poetry-and-the-evolution-of-python-packaging">Poetry and the evolution of Python packaging</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#learn-more-by-building-a-toy-python-package">Learn more by building a toy Python package</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#key-package-things-for-python-and-r-packages">Key package things for Python and R packages</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-a-minimal-viable-software-package">What is a minimal viable software package?</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#essential-python-package-files">Essential Python package files</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-to-know-a-pyproject-toml-file-s-contents">Getting to know a <code class="docutils literal notranslate"><span class="pre">pyproject.toml</span></code> file’s contents</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-to-know-a-init-py-file-s-contents">Getting to know a <code class="docutils literal notranslate"><span class="pre">__init__.py</span></code> file’s contents</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#docs-and-github-workflows-ci-cd-yml"><code class="docutils literal notranslate"><span class="pre">docs/*</span></code> and <code class="docutils literal notranslate"><span class="pre">.github/workflows/ci-cd.yml</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#docs"><code class="docutils literal notranslate"><span class="pre">docs/*</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#github-workflows-ci-cd-yml"><code class="docutils literal notranslate"><span class="pre">.github/workflows/ci-cd.yml</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#essential-r-package-files">Essential R package files</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-to-know-a-description-file-s-contents">Getting to know a <code class="docutils literal notranslate"><span class="pre">DESCRIPTION</span></code> file’s contents</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#man-rd-files"><code class="docutils literal notranslate"><span class="pre">man/*Rd</span></code> files</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#namespace-file"><code class="docutils literal notranslate"><span class="pre">NAMESPACE</span></code> file</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cookiecutter-project-templates">Cookiecutter project templates</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise">Exercise:</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#differences-in-package-building-tool-philosophy">Differences in package building tool philosophy</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#iclicker-question">iClicker question:</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#in-class-disucssion">In class disucssion</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#dealing-with-other-package-dependencies-in-your-package">Dealing with other package dependencies in your package</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dealing-with-package-dependencies-in-r">Dealing with package dependencies in R</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-pipe-a-special-dependency">The pipe, <code class="docutils literal notranslate"><span class="pre">%&gt;%</span></code>, a special dependency</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#package-documentation-for-r">Package documentation for R</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#code-level-documentation-roxygen-style-comments">Code-level documentation (Roxygen-style comments)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#vignettes">Vignettes</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#package-websites-via-pkgdown">Package websites (via <code class="docutils literal notranslate"><span class="pre">pkgdown</span></code>)</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Tiffany Timbers
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>