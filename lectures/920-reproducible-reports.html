<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>26&nbsp; Reproducible reports ‚Äì Reproducible and Trustworthy Workflows for Data Science</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../lectures/910-functions-in-r.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>
div.callout-activity.callout {
  border-left-color: blue;
}
div.callout-activity.callout-style-default > .callout-header {
  background-color: rgb(from blue r g b / 13%);
}
div.callout-activity .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewbox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"></path></svg>');}
div.callout-activity.callout-style-default .callout-icon::before, div.callout-activity.callout-titled .callout-icon::before {
  content: 'üß©';
  background-image: none;
}
div.callout-relevance-project.callout {
  border-left-color: orange;
}
div.callout-relevance-project.callout-style-default > .callout-header {
  background-color: rgb(from orange r g b / 13%);
}
div.callout-relevance-project .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewbox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"></path></svg>');}
div.callout-relevance-project.callout-style-default .callout-icon::before, div.callout-relevance-project.callout-titled .callout-icon::before {
  content: 'üíª';
  background-image: none;
}
div.callout-definition.callout {
  border-left-color: pink;
}
div.callout-definition.callout-style-default > .callout-header {
  background-color: rgb(from pink r g b / 13%);
}
div.callout-definition .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewbox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"></path></svg>');}
div.callout-definition.callout-style-default .callout-icon::before, div.callout-definition.callout-titled .callout-icon::before {
  content: 'üìù';
  background-image: none;
}
div.callout-exercise.callout {
  border-left-color: green;
}
div.callout-exercise.callout-style-default > .callout-header {
  background-color: rgb(from green r g b / 13%);
}
div.callout-exercise .callout-toggle::before {  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="rgb(33, 37, 41)" class="bi bi-chevron-down" viewbox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"></path></svg>');}
div.callout-exercise.callout-style-default .callout-icon::before, div.callout-exercise.callout-titled .callout-icon::before {
  content: 'üèãÔ∏è';
  background-image: none;
}
</style>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../parts/appendix.html">Appendix</a></li><li class="breadcrumb-item"><a href="../lectures/920-reproducible-reports.html"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Reproducible reports</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Reproducible and Trustworthy Workflows for Data Science</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/UBC-DSCI/reproducible-and-trustworthy-workflows-for-data-science/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../parts/intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/010-intro-to-ds-workflows.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">How do reproducible and trustworthy workflows impact data science?</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/020-intro-to-bash.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction to the Bash Shell</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../parts/version-control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Version Control</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/030-ssh-for-authentication.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">SSH for authentication</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/040-version-control-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Version control (for transparency and collaboration) I</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/050-version-control-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Version control (for transparency and collaboration) II</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/060-version-control-3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Project management using GitHub</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../parts/projects-envs-containers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Projects, Environments, and Containers</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/070-filenames-project-organization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Filenames and data science project organization, Integrated development environments</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/080-virtual-environments.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Virtual environments</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/090-conda-lock.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Conda lock: reproducible lock files for conda environments</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/100-containerization-1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Introduction to containerization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/110-containerization-2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Using and running containers</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/120-containerization-3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Customizing and building containers</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../parts/data-testing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Validation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/130-data-validation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Data validation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/140-intro-to-testing-code.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Introduction to testing code for data science</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../parts/automation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Automation</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/150-scripts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Non-interactive scripts</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/160-reproducible-reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Reproducible reports</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/170-pipelines-scripts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Data analysis pipelines with scripts</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/180-pipelines-make.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Data analysis pipelines with GNU Make</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../parts/packaging-ci-cd-publish.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Packages and Continuous Integration + Deployment</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/190-packaging-and-documenting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Packaging and documenting code</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/200-continuous-integration.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Automated testing and continuous integration</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/210-deploy-and-publish.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Deploying and publishing packages</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../parts/licenses-copyright-wrapup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wrap Up</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/220-licenses-and-copyright.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Copyright and licenses</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/230-reproducibility-wrap-up.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Workflows for reproducibile and trustworthy data science wrap-up</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../parts/appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/900-functions-in-python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">Defining functions in Python</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/910-functions-in-r.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Defining functions in R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../lectures/920-reproducible-reports.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Reproducible reports</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#other-kinds-of-reproducible-reports" id="toc-other-kinds-of-reproducible-reports" class="nav-link active" data-scroll-target="#other-kinds-of-reproducible-reports"><span class="header-section-number">26.1</span> Other kinds of reproducible reports</a></li>
  <li><a href="#introduction-to-r-markdown" id="toc-introduction-to-r-markdown" class="nav-link" data-scroll-target="#introduction-to-r-markdown"><span class="header-section-number">26.2</span> Introduction to R Markdown</a>
  <ul class="collapse">
  <li><a href="#r-markdown-resources" id="toc-r-markdown-resources" class="nav-link" data-scroll-target="#r-markdown-resources"><span class="header-section-number">26.2.1</span> R Markdown resources</a></li>
  <li><a href="#a-helpful-hint-for-successfully-working-with-r-markdown-documents" id="toc-a-helpful-hint-for-successfully-working-with-r-markdown-documents" class="nav-link" data-scroll-target="#a-helpful-hint-for-successfully-working-with-r-markdown-documents"><span class="header-section-number">26.2.2</span> A helpful hint for successfully working with R Markdown documents</a></li>
  <li><a href="#running-editing-and-creating-code-chunks" id="toc-running-editing-and-creating-code-chunks" class="nav-link" data-scroll-target="#running-editing-and-creating-code-chunks"><span class="header-section-number">26.2.3</span> Running, editing and creating code chunks</a></li>
  <li><a href="#naming-code-chunks-and-r-markdown-document-sections" id="toc-naming-code-chunks-and-r-markdown-document-sections" class="nav-link" data-scroll-target="#naming-code-chunks-and-r-markdown-document-sections"><span class="header-section-number">26.2.4</span> Naming code chunks and R Markdown document sections</a></li>
  <li><a href="#code-chunk-options" id="toc-code-chunk-options" class="nav-link" data-scroll-target="#code-chunk-options"><span class="header-section-number">26.2.5</span> Code chunk options</a></li>
  <li><a href="#creating-a-table-of-contents" id="toc-creating-a-table-of-contents" class="nav-link" data-scroll-target="#creating-a-table-of-contents"><span class="header-section-number">26.2.6</span> Creating a table of contents</a></li>
  <li><a href="#create-tables-and-table-descriptions" id="toc-create-tables-and-table-descriptions" class="nav-link" data-scroll-target="#create-tables-and-table-descriptions"><span class="header-section-number">26.2.7</span> Create tables and table descriptions</a></li>
  <li><a href="#resize-figures-and-keep-figure-descriptions-associated-with-their-figures" id="toc-resize-figures-and-keep-figure-descriptions-associated-with-their-figures" class="nav-link" data-scroll-target="#resize-figures-and-keep-figure-descriptions-associated-with-their-figures"><span class="header-section-number">26.2.8</span> Resize figures and keep figure descriptions associated with their figures</a></li>
  <li><a href="#referencing-values-from-code-inline-in-the-narrative-text" id="toc-referencing-values-from-code-inline-in-the-narrative-text" class="nav-link" data-scroll-target="#referencing-values-from-code-inline-in-the-narrative-text"><span class="header-section-number">26.2.9</span> Referencing values from code inline in the narrative text</a></li>
  <li><a href="#create-a-references-section-for-citing-external-sources" id="toc-create-a-references-section-for-citing-external-sources" class="nav-link" data-scroll-target="#create-a-references-section-for-citing-external-sources"><span class="header-section-number">26.2.10</span> Create a references section for citing external sources</a></li>
  </ul></li>
  <li><a href="#advanced-reporting" id="toc-advanced-reporting" class="nav-link" data-scroll-target="#advanced-reporting"><span class="header-section-number">26.3</span> Advanced reporting</a></li>
  <li><a href="#r-markdown-extensions" id="toc-r-markdown-extensions" class="nav-link" data-scroll-target="#r-markdown-extensions"><span class="header-section-number">26.4</span> R Markdown extensions</a>
  <ul class="collapse">
  <li><a href="#figure-formatting" id="toc-figure-formatting" class="nav-link" data-scroll-target="#figure-formatting"><span class="header-section-number">26.4.1</span> Figure formatting</a></li>
  <li><a href="#table-formatting" id="toc-table-formatting" class="nav-link" data-scroll-target="#table-formatting"><span class="header-section-number">26.4.2</span> Table formatting</a></li>
  </ul></li>
  <li><a href="#jupyter-as-a-reproducible-reporting-tool" id="toc-jupyter-as-a-reproducible-reporting-tool" class="nav-link" data-scroll-target="#jupyter-as-a-reproducible-reporting-tool"><span class="header-section-number">26.5</span> Jupyter as a reproducible reporting tool</a>
  <ul class="collapse">
  <li><a href="#removing-code-cells-from-final-report" id="toc-removing-code-cells-from-final-report" class="nav-link" data-scroll-target="#removing-code-cells-from-final-report"><span class="header-section-number">26.5.1</span> Removing code cells from final report</a></li>
  <li><a href="#building-and-formatting-bibliographies" id="toc-building-and-formatting-bibliographies" class="nav-link" data-scroll-target="#building-and-formatting-bibliographies"><span class="header-section-number">26.5.2</span> Building and formatting bibliographies</a></li>
  <li><a href="#render-code-inline-in-markdown-cells" id="toc-render-code-inline-in-markdown-cells" class="nav-link" data-scroll-target="#render-code-inline-in-markdown-cells"><span class="header-section-number">26.5.3</span> Render code inline in Markdown cells</a></li>
  <li><a href="#figure-formatting-1" id="toc-figure-formatting-1" class="nav-link" data-scroll-target="#figure-formatting-1"><span class="header-section-number">26.5.4</span> Figure formatting</a></li>
  <li><a href="#table-formatting-1" id="toc-table-formatting-1" class="nav-link" data-scroll-target="#table-formatting-1"><span class="header-section-number">26.5.5</span> Table formatting</a></li>
  </ul></li>
  <li><a href="#rendering-bookdown-and-jupyter-book-documents-at-the-command-line" id="toc-rendering-bookdown-and-jupyter-book-documents-at-the-command-line" class="nav-link" data-scroll-target="#rendering-bookdown-and-jupyter-book-documents-at-the-command-line"><span class="header-section-number">26.6</span> Rendering <code>bookdown</code> and <code>jupyter-book</code> documents at the command line</a>
  <ul class="collapse">
  <li><a href="#rendering-bookdown-documents-at-the-command-line" id="toc-rendering-bookdown-documents-at-the-command-line" class="nav-link" data-scroll-target="#rendering-bookdown-documents-at-the-command-line"><span class="header-section-number">26.6.1</span> Rendering <code>bookdown</code> documents at the command line</a></li>
  <li><a href="#rendering-jupyter-book-documents-at-the-command-line" id="toc-rendering-jupyter-book-documents-at-the-command-line" class="nav-link" data-scroll-target="#rendering-jupyter-book-documents-at-the-command-line"><span class="header-section-number">26.6.2</span> Rendering <code>jupyter-book</code> documents at the command line</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../parts/appendix.html">Appendix</a></li><li class="breadcrumb-item"><a href="../lectures/920-reproducible-reports.html"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Reproducible reports</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">Reproducible reports</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="other-kinds-of-reproducible-reports" class="level2" data-number="26.1">
<h2 data-number="26.1" class="anchored" data-anchor-id="other-kinds-of-reproducible-reports"><span class="header-section-number">26.1</span> Other kinds of reproducible reports</h2>
<p>In addition to Quarto, there are other tools and technologies commonly used for creating reproducible reports in data science. We think at the moment, Quarto is the best tool for this course, but we kept the notes on the others here for those who are interested.</p>
</section>
<section id="introduction-to-r-markdown" class="level2" data-number="26.2">
<h2 data-number="26.2" class="anchored" data-anchor-id="introduction-to-r-markdown"><span class="header-section-number">26.2</span> Introduction to R Markdown</h2>
<p>R Markdown is one implementation of a reproducible reporting tool. It is very user friendly and has become very powerful - allowing a great deal of control over formatting with the ability to render to many different outputs. Including: - PDF - html - Word - Powerpoint presentation - many more!</p>
<p>It is a mix of markdown primarily used for narrative text, and code chunks where code can be executed in an engine. It was originally created for the R programming language, but can be used with several others, including Python. See <a href="https://rmarkdown.rstudio.com/lesson-5.html">here</a> in the R Markdown tutorial for how to use it with other languages, and <a href="https://github.com/ttimbers/python_rmd/blob/main/python_rmd.Rmd">here</a> for a GitHub repository with a working example of this.</p>
<section id="r-markdown-resources" class="level3" data-number="26.2.1">
<h3 data-number="26.2.1" class="anchored" data-anchor-id="r-markdown-resources"><span class="header-section-number">26.2.1</span> R Markdown resources</h3>
<ul>
<li><a href="https://rmarkdown.rstudio.com/lesson-1.html">R Markdown tutorial</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown/">R Markdown: The Definitive Guide</a></li>
<li><a href="https://rmarkdown.rstudio.com/docs/">R Markdown documentation</a></li>
</ul>
<section id="exercise---get-to-know-r-markdown" class="level4">
<h4 class="anchored" data-anchor-id="exercise---get-to-know-r-markdown">Exercise - get to know R Markdown</h4>
<p>Let‚Äôs get to know R Markdown! Open RStudio and create a new R Markdown document, choosing HTML as the output format. Look at the source document that is created, where is the narrative text written? Where is the code written? How does this differ from Jupyter?</p>
</section>
<section id="exercise---render-your-first-document" class="level4">
<h4 class="anchored" data-anchor-id="exercise---render-your-first-document">Exercise - render your first document</h4>
<p>There are two ways to render a document from the Rmd source to the desired output. One is using a button in RStudio - the knit button that looks like this:</p>
<p><img src="img/knit.png" width="90"></p>
<p>Try clicking that button and see what happens!</p>
<p>Another way you can do this is through code! Try running this in the R console (replacing <code>"FILEPATH/FILE.Rmd"</code> with the file path to where you saved this R Markdown document:</p>
<pre><code>rmarkdown::render("FILEPATH/FILE.Rmd", output_format = "html_document")</code></pre>
</section>
<section id="exercise---checkout-the-new-visual-markdown-editor" class="level4">
<h4 class="anchored" data-anchor-id="exercise---checkout-the-new-visual-markdown-editor">Exercise - checkout the new visual markdown editor</h4>
<p>RStudio has implemented a new feature for working with R Markdown to make it more similar to working with Jupyter - it is called the visual markdown editor. Checkout this feature by clicking the visual markdown editor button when you have an R Markdown file open in the editor. The button looks like this:</p>
<p><img src="img/viz-md-button.png" width="50"></p>
</section>
</section>
<section id="a-helpful-hint-for-successfully-working-with-r-markdown-documents" class="level3" data-number="26.2.2">
<h3 data-number="26.2.2" class="anchored" data-anchor-id="a-helpful-hint-for-successfully-working-with-r-markdown-documents"><span class="header-section-number">26.2.2</span> A helpful hint for successfully working with R Markdown documents</h3>
<p>Given that you need to render the entire document to see your Markdown and LaTeX rendered, it is important to ‚Äúknit‚Äù often as you make changes. If you make an error in a LaTeX equation for example, it will stop the knitting/rendering process and you will not get to see the rendered document. So by knitting/rendering often you will know where the last changes you made are and then will be able to easily identify and fix your errors.</p>
</section>
<section id="running-editing-and-creating-code-chunks" class="level3" data-number="26.2.3">
<h3 data-number="26.2.3" class="anchored" data-anchor-id="running-editing-and-creating-code-chunks"><span class="header-section-number">26.2.3</span> Running, editing and creating code chunks</h3>
<p>Just like Jupyter notebooks, R Markdown has code cells, although they‚Äôre more commonly referred to as code ‚Äúchunks‚Äù or ‚Äúblocks‚Äù. These are based off fenced Markdown code blocks and always start and end with 3 backticks (```), just like in Markdown. Unique to R Markdown is that the leading three backticks are followed by curly braces containing the language engine you want to run, which for r looks like this <code>{r}</code>. Additional metadata can be included, for example a name to reference the code chunk:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r my first code chunk}</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="in">x &lt;- 5</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="in">x</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>There are other language engines that can be used in RMarkdown, you can learn more about that <a href="https://bookdown.org/yihui/rmarkdown/language-engines.html">here</a>.</p>
<p>All code cells are run when you knit/render the entire document (like pressing ‚ÄúRun all‚Äù in JupyterLab). By default, the code in the chunk and the code output will be included in your rendered document. You can also run the code by clicking the green play button on the right-hand side of the code chunk.</p>
</section>
<section id="naming-code-chunks-and-r-markdown-document-sections" class="level3" data-number="26.2.4">
<h3 data-number="26.2.4" class="anchored" data-anchor-id="naming-code-chunks-and-r-markdown-document-sections"><span class="header-section-number">26.2.4</span> Naming code chunks and R Markdown document sections</h3>
<p>When you include Markdown headers (using the <code>#</code> symbol) R Studio automatically creates a pop-up-like menu for you to use to navigate the document, which you can access by clicking the bar below this editor panel. It looks like:</p>
<p><img src="img/menu0.png" width="500"></p>
<p><img src="img/menu1.png" width="500"></p>
<p>By clicking on any of the headings in the pop-up-like menu, RStudio will navigate you to that section of the R Markdown document. Try clicking on one to see how it works.</p>
<p>In addition to Markdown headings, RStudio also keeps track of code chunks in that menu. By default RStudio names the chunks by their position (e.g.&nbsp;Chunk 1, Chunk 2, etc). But in reality those names are not that useful and it is more helpful to give code chunks meaningful names. For example, in the code chunk below where we use a for loop to sum the numbers from 1 to 10, we name the chunk ‚Äúfor-loop-sum‚Äù.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r for-loop-sum}</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="in"># initialize sum to 0</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="in">loop_sum &lt;- 0</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="in"># loop of a sequence from 1 to 10 and calculate the sum</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="in">for (i in seq(1:10)){</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="in">  loop_sum &lt;- loop_sum + i</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="in">print(loop_sum)</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>Do not duplicate code chunk names, this will break the rendering of your document!</strong></p>
</section>
<section id="code-chunk-options" class="level3" data-number="26.2.5">
<h3 data-number="26.2.5" class="anchored" data-anchor-id="code-chunk-options"><span class="header-section-number">26.2.5</span> Code chunk options</h3>
<p>There are many code chunk options that you can set. These options let you customize chunk behavior, including whether a chunk is evaluated, whether to include the output in the rendered document, etc. A short list of code chunk options is shown below, but you can find an extensive list starting on the second page of <a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf">this</a> document.</p>
<p><img src="img/chunk_options.jpeg" width="500"></p>
<p>You can set the chunk options at either a global level (once set they will be applied to all code chunks in the <code>.Rmd</code> file) or locally for a specific chunk (these will override the global chunk options if they are contradictory).</p>
<p>Global options are usually set in one chunk at the top of the document and looks like this (this is a screenshot):</p>
<p><code>{r setup, include=FALSE} knitr::opts_chunk$set(echo = FALSE)</code></p>
<p>Global chunk options are set by adding them as arguments to <code>knitr::opts_chunk$set(...)</code> (put them in place of <code>...</code> and separate multiple options with a comma). The only global chunk options set in this document is <code>echo = FALSE</code>, which hides the code chunks and only shows the output, something that can be useful for non-technical reports.</p>
<p>Local chunk options are set by adding the options in the curly braces of a code chunk after the language engine and code chunk name. For example, to not display warnings in a single code chunk we would use the <code>warning = FALSE</code> code chunk as follows:</p>
<p><code>{r correlation no warning, warning = FALSE} # some R code that throws a warning cor( c( 1 , 1 ), c( 2 , 3 ) )</code></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>R Markdown support inline evaluated code via the following syntax <code>Adding 3 to 4 gives `r 4 + 3`.     The value of `x` is currently `r x`.</code></li>
<li>Latex equations can be written the same way as in Jupyter notebooks and standard markdown documents. - <code>$\alpha = 5$</code> for inline latex and <code>$$\alpha = 5$$</code> for a math block. - When hovering over equations, R will display the rendered equation in a pop up.</li>
<li>R Markdown is built upon the Pandoc Markdown engine. This is useful to know since the <a href="https://pandoc.org/MANUAL.html">Pandoc manual</a> is a great exhaustive resource for looking up anything Markdown related.</li>
<li>One of the features made available thanks to Pandoc is support for citations and bibliographies.
<ul>
<li>Let‚Äôs cite the R-package by typing <code>citation()</code> into the console, and copying the BibTeX citation into a new document that we call <code>rstudio-demo.bib     and adding an identifier string (a key) before the first comma,     e.g.</code>r-lang`.</li>
<li>Include the following field in the YAML metadata in the beginning of the document: <code>bibliography: rstudio-demo.bib</code>, then cite it somewhere in the text by adding <code>[@r-lang]</code>. The bibliography will be appended to the document, so it is advisable to add a heading saying <code># References</code> at the very end.</li>
</ul></li>
<li>When working with R Markdown (and code in general) be careful that you don‚Äôt copy stylized quotation marks because these will not work. For example, this will throw an error:</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">=</span> ‚ÄúThis string‚Äù</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>It should look like this instead:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">=</span> <span class="st">"This string"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</section>
<section id="creating-a-table-of-contents" class="level3" data-number="26.2.6">
<h3 data-number="26.2.6" class="anchored" data-anchor-id="creating-a-table-of-contents"><span class="header-section-number">26.2.6</span> Creating a table of contents</h3>
<p>A table of contents can be automatically generated by specifying <code>toc: true</code> in the YAML front matter. It must be indented as so:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode yaml code-with-copy"><code class="sourceCode yaml"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">github_document</span><span class="kw">:</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This works for all output file types I have explored so far!</p>
</section>
<section id="create-tables-and-table-descriptions" class="level3" data-number="26.2.7">
<h3 data-number="26.2.7" class="anchored" data-anchor-id="create-tables-and-table-descriptions"><span class="header-section-number">26.2.7</span> Create tables and table descriptions</h3>
<p>Data frames and other rectangular objects in R can be made into nice tables using <code>knitr::kable</code>. At the most basic level the syntax is:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(data_frame)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To have a table description stay associated with the table, use the <code>caption</code> argument. For example:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(data_frame, <span class="at">caption =</span> <span class="st">"Table 1. This is a summary of the data set"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>A couple notes: - If you render to <code>github_document</code> or <code>html_document</code> you do need to manually write the ‚ÄúTable 1.‚Äù in your figure caption. If you render to <code>pdf_document</code> you do not. - Want fancier tables? Use the <code>kableExtra</code> package! See docs here: https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html</p>
</section>
<section id="resize-figures-and-keep-figure-descriptions-associated-with-their-figures" class="level3" data-number="26.2.8">
<h3 data-number="26.2.8" class="anchored" data-anchor-id="resize-figures-and-keep-figure-descriptions-associated-with-their-figures"><span class="header-section-number">26.2.8</span> Resize figures and keep figure descriptions associated with their figures</h3>
<p>There are two ways to do this, and you they depend on whether you are creating the figure from an R object vs a file.</p>
<section id="resizing-figures-and-writing-figure-captions-generated-from-an-r-plot-object" class="level4">
<h4 class="anchored" data-anchor-id="resizing-figures-and-writing-figure-captions-generated-from-an-r-plot-object">1. Resizing figures and writing figure captions generated from an R plot object</h4>
<p>Here you need to:</p>
<ul>
<li><code>fig.width=&lt;WIDTH&gt;, fig.height=&lt;HEIGHT&gt;</code> in the R code chunk options.</li>
<li><code>fig.cap = "CAPTION"</code> in the R code chunk options.</li>
</ul>
</section>
<section id="resizing-figures-and-writing-figure-captions-generated-from-a-saved-file-e.g.-.png" class="level4">
<h4 class="anchored" data-anchor-id="resizing-figures-and-writing-figure-captions-generated-from-a-saved-file-e.g.-.png">2. Resizing figures and writing figure captions generated from a saved file (e.g., .png)</h4>
<p>Here you need to:</p>
<ul>
<li>use <code>knitr::include_graphics(&lt;FILE_PATH&gt;)</code> inside a code chunk to point the figure file</li>
<li><code>fig.cap</code> in the R code chunk options to write the figure caption</li>
<li>use <code>out.width = '40%'</code> and <code>out.height = '40%'</code> in the R code chunk options to set the figure size.</li>
</ul>
</section>
</section>
<section id="referencing-values-from-code-inline-in-the-narrative-text" class="level3" data-number="26.2.9">
<h3 data-number="26.2.9" class="anchored" data-anchor-id="referencing-values-from-code-inline-in-the-narrative-text"><span class="header-section-number">26.2.9</span> Referencing values from code inline in the narrative text</h3>
<p>You can refer to values stored in code inside your markdown text using the <code>r object</code> surrounded by backticks.</p>
<p>This is extremely useful for iterating over an analysis near the final stages when you already have the report written, or when doing parameterized reports (more on these in a bit).</p>
<p>However, the value you represent must be a vector.</p>
</section>
<section id="create-a-references-section-for-citing-external-sources" class="level3" data-number="26.2.10">
<h3 data-number="26.2.10" class="anchored" data-anchor-id="create-a-references-section-for-citing-external-sources"><span class="header-section-number">26.2.10</span> Create a references section for citing external sources</h3>
<p>DO NOT format references by hand, you will drive yourself nuts, especially the more references you collect! Instead use R Markdowns bibliography/citiation functionality. Below is a brief introduction, full docs <a href="https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html">here</a>.</p>
<section id="steps-to-citing-in-r-markdown" class="level4">
<h4 class="anchored" data-anchor-id="steps-to-citing-in-r-markdown">Steps to citing in R Markdown</h4>
<ol type="1">
<li><p>Add <code>bibliography: PATH/FILENAME.bib</code> to the YAML front matter</p></li>
<li><p>At the very end of the <code>.Rmd</code> file add <code># References</code></p></li>
<li><p>Create <code>PATH/FILENAME.bib</code> (this is a plain text file) and place citations in there using BibTeX citation format (see examples <a href="https://www.economics.utoronto.ca/osborne/latex/BIBTEX.HTM">here</a>).</p></li>
<li><p>In the <code>.Rmd</code> mardown text, use <code>@label</code> (corresponds to the first string inside the <code>{}</code> in the <code>.bib</code> file for the reference of interest) to do a in-text citation.</p></li>
</ol>
</section>
<section id="getting-bibtex-citations" class="level4">
<h4 class="anchored" data-anchor-id="getting-bibtex-citations">Getting BibTeX citations</h4>
<p>BibTeX citations for code (R &amp; Python programming languages and their respective packages) can be obtained from the sources: - <code>citatation()</code> function in R (no argument will give you the citation for R, adding a package name as a string to the function call will give you the citation for that package) - For Python, I have found I have had to do this somewhat manually from package GitHub repos or docs pages (some packages exist to do this, but none seem to work flawlessly out of box). See my demo <code>.bib</code> file here for an example: https://github.com/ttimbers/breast_cancer_predictor/blob/master/doc/breast_cancer_refs.bib</p>
<p>BibTeX citations for papers can usually be found via Google scholar:</p>
</section>
<section id="search-for-the-paper-on-google-scholar" class="level4">
<h4 class="anchored" data-anchor-id="search-for-the-paper-on-google-scholar">1. Search for the paper on Google Scholar</h4>
<ul>
<li>visit https://scholar.google.com/</li>
</ul>
</section>
<section id="use-goolge-scholar-to-get-the-citation" class="level4">
<h4 class="anchored" data-anchor-id="use-goolge-scholar-to-get-the-citation">2. Use Goolge Scholar to get the citation</h4>
<ul>
<li>Click on the quotation icon under the paper:</li>
</ul>
<p><img src="../img/google_scholar_step_1.png" class="img-fluid"></p>
<ul>
<li>Click on the BibTeX link on the pop-up box:</li>
</ul>
<p><img src="../img/google_scholar_step_2.png" class="img-fluid"></p>
<ul>
<li>Copy the BibTeX citation to your .bib file</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode bibtex code-with-copy"><code class="sourceCode bibtex"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="va">@article</span>{<span class="ot">ahmad2007k</span>,</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span>={A k-mean clustering algorithm for mixed numeric and categorical data},</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">author</span>={Ahmad, Amir and Dey, Lipika},</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">journal</span>={Data <span class="ch">\&amp;</span> Knowledge Engineering},</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">volume</span>={63},</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">number</span>={2},</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">pages</span>={503--527},</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">year</span>={2007},</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">publisher</span>={Elsevier}</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<blockquote class="blockquote">
<p>Note: The Zotero reference manager now works nicely with R Markdown too! You might want to try this for your project, see here: <a href="https://www.rstudio.com/blog/rstudio-1-4-preview-citations/#citations-from-zotero" class="uri">https://www.rstudio.com/blog/rstudio-1-4-preview-citations/#citations-from-zotero</a></p>
</blockquote>
</section>
</section>
</section>
<section id="advanced-reporting" class="level2" data-number="26.3">
<h2 data-number="26.3" class="anchored" data-anchor-id="advanced-reporting"><span class="header-section-number">26.3</span> Advanced reporting</h2>
<p>In a more complex project, we need to do the following things that are not available to us directly though <code>RMarkdown</code> or Jupyter notebooks on their own:</p>
<ol type="1">
<li>Automatically generate figure numbering based on order of appearance in the report.</li>
<li>Automatically generate table numbering based on order of appearance in the report.</li>
<li>Cross reference figures and tables as so to keep the automatically generated figure/table numbers.</li>
</ol>
<p>Jupyter notebooks on their also lack some functionality directly available in <code>RMarkdown</code>: 1. Removing code cells from final report 2. Build a bibliography (only not available in Jupyter directly) 3. Render code inline in Markdown</p>
<p>Thus to address both of these issues, we can layer additional packages on top of <code>RMarkdown</code> and Jupyter to gain this needed functionality. In the case of <code>RMarkdown</code>, we layer on the <a href="https://bookdown.org/"><code>bookdown</code></a> R package (<a href="https://github.com/rstudio/rticles"><code>rticle</code></a> package can also be used too). And for Jupyter, we layer on the <a href="(https://jupyterbook.org/intro.html)"><code>jupyter-book</code></a> package.</p>
</section>
<section id="r-markdown-extensions" class="level2" data-number="26.4">
<h2 data-number="26.4" class="anchored" data-anchor-id="r-markdown-extensions"><span class="header-section-number">26.4</span> R Markdown extensions</h2>
<p>What if you need more formatting than is available to you in vanilla R Markdown? For example, cross referencing between sections for a report or thesis? Or journal article templates for research manuscripts? You can add additional functionality like this by adding the use of the <a href="https://bookdown.org/"><code>bookdown</code></a> or <a href="https://github.com/rstudio/rticles"><code>rticle</code></a> R packages, respectively.</p>
<p>Below are links to the RMarkdown documentation for the advanced reporting tasks that we need to layer on <code>bookdown</code> for:</p>
<section id="figure-formatting" class="level3" data-number="26.4.1">
<h3 data-number="26.4.1" class="anchored" data-anchor-id="figure-formatting"><span class="header-section-number">26.4.1</span> Figure formatting</h3>
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook/figure-number.html">Automatic figure numbering</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook/cross-ref.html">Cross referencing figures in the text using automatically generated figure numbers</a></li>
</ul>
</section>
<section id="table-formatting" class="level3" data-number="26.4.2">
<h3 data-number="26.4.2" class="anchored" data-anchor-id="table-formatting"><span class="header-section-number">26.4.2</span> Table formatting</h3>
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook/kable.html#kable-caption">Automatic table numbering and figure captions via <code>knitr::kable</code>‚Äôs <code>caption</code> argument</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook/cross-ref.html">Cross referencing tables in the text using automatically generated table numbers</a></li>
</ul>
</section>
</section>
<section id="jupyter-as-a-reproducible-reporting-tool" class="level2" data-number="26.5">
<h2 data-number="26.5" class="anchored" data-anchor-id="jupyter-as-a-reproducible-reporting-tool"><span class="header-section-number">26.5</span> Jupyter as a reproducible reporting tool</h2>
<p>Jupyter notebooks along are reproducible reporting tools, and can be used as such, However, they have less power and functionality on their own compared to R Markdown on it‚Äôs own. To address this issue, a new tool, called <a href="https://jupyterbook.org/intro.html">Jupyter book</a>, has been developed. It adds many of the features we have discussed above to Jupyter and makes it comparable to R Markdown.One important thing to note is that it is in early development stages still and changes to the package are being released frequently.</p>
<section id="jupyter-book-files" class="level4">
<h4 class="anchored" data-anchor-id="jupyter-book-files">Jupyter book files</h4>
<p>A minimal Jupyter book report needs several files inside a directory, here is a quick rundown of each:</p>
<ul>
<li><code>_config.yml</code>: configuration file for the Jupyter Book</li>
<li><code>_toc.yml</code>: table of contents file for the Jupyter Book</li>
<li><code>&lt;jbook&gt;.ipynb</code>: Jupyter Notebook with contents of the report</li>
<li><code>references.bib</code>: BibTeX references file for the report</li>
</ul>
<p>Here are the general Jupyter books docs: <a href="https://jupyterbook.org/intro.html" class="uri">https://jupyterbook.org/intro.html</a></p>
<p>Below we link to particular sections useful for the tasks you need to accomplish for advanced reporting:</p>
</section>
<section id="removing-code-cells-from-final-report" class="level3" data-number="26.5.1">
<h3 data-number="26.5.1" class="anchored" data-anchor-id="removing-code-cells-from-final-report"><span class="header-section-number">26.5.1</span> Removing code cells from final report</h3>
<p>To do this we add tags to the cell meta data (e.g., <code>remove-input</code>). For details see these docs:</p>
<ul>
<li><a href="https://jupyterbook.org/en/stable/interactive/hiding.html?highlight=remove%20entire%20code%20cell#removing-code-cell-content">Removing code cell input</a></li>
</ul>
</section>
<section id="building-and-formatting-bibliographies" class="level3" data-number="26.5.2">
<h3 data-number="26.5.2" class="anchored" data-anchor-id="building-and-formatting-bibliographies"><span class="header-section-number">26.5.2</span> Building and formatting bibliographies</h3>
<ul>
<li><a href="https://jupyterbook.org/content/citations.html">Building and formatting bibliographies</a></li>
</ul>
</section>
<section id="render-code-inline-in-markdown-cells" class="level3" data-number="26.5.3">
<h3 data-number="26.5.3" class="anchored" data-anchor-id="render-code-inline-in-markdown-cells"><span class="header-section-number">26.5.3</span> Render code inline in Markdown cells</h3>
<ul>
<li><a href="https://jupyterbook.org/content/executable/output-insert.html">Render code inline in Markdown cells</a></li>
</ul>
</section>
<section id="figure-formatting-1" class="level3" data-number="26.5.4">
<h3 data-number="26.5.4" class="anchored" data-anchor-id="figure-formatting-1"><span class="header-section-number">26.5.4</span> Figure formatting</h3>
<ul>
<li><a href="https://jupyterbook.org/en/stable/content/figures.html#figures">Automatic figure numbering</a></li>
<li><a href="https://jupyterbook.org/en/stable/content/figures.html#referencing-figures">Cross referencing figures in the text using automatically generated figure numbers</a></li>
</ul>
</section>
<section id="table-formatting-1" class="level3" data-number="26.5.5">
<h3 data-number="26.5.5" class="anchored" data-anchor-id="table-formatting-1"><span class="header-section-number">26.5.5</span> Table formatting</h3>
<ul>
<li><a href="https://jupyterbook.org/en/stable/content/executable/output-insert.html?highlight=glue#the-glue-figure-directive">Automatic table numbering - see the second example in this section</a></li>
<li><a href="https://jupyterbook.org/en/stable/content/figures.html#referencing-figures">Cross referencing tables in the text using automatically generated table numbers</a></li>
</ul>
</section>
</section>
<section id="rendering-bookdown-and-jupyter-book-documents-at-the-command-line" class="level2" data-number="26.6">
<h2 data-number="26.6" class="anchored" data-anchor-id="rendering-bookdown-and-jupyter-book-documents-at-the-command-line"><span class="header-section-number">26.6</span> Rendering <code>bookdown</code> and <code>jupyter-book</code> documents at the command line</h2>
<p>Just like scripts, we can execute <code>bookdown</code> and <code>jupyter-book</code>documents at the command line. This is a useful feature for reproducibility and automation of our analysis.</p>
<section id="rendering-bookdown-documents-at-the-command-line" class="level3" data-number="26.6.1">
<h3 data-number="26.6.1" class="anchored" data-anchor-id="rendering-bookdown-documents-at-the-command-line"><span class="header-section-number">26.6.1</span> Rendering <code>bookdown</code> documents at the command line</h3>
<p>To render <code>bookdown</code> to HTML:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"rmarkdown::render('doc/rmd_example/rmd_example.Rmd', 'bookdown::html_document2')"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To render <code>bookdown</code> to PDF using LaTeX:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">Rscript</span> <span class="at">-e</span> <span class="st">"rmarkdown::render('doc/rmd_example/rmd_example.Rmd', 'bookdown::pdf_document2')"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="rendering-jupyter-book-documents-at-the-command-line" class="level3" data-number="26.6.2">
<h3 data-number="26.6.2" class="anchored" data-anchor-id="rendering-jupyter-book-documents-at-the-command-line"><span class="header-section-number">26.6.2</span> Rendering <code>jupyter-book</code> documents at the command line</h3>
<p>Detailed docs for building a HTML book are here: <a href="https://jupyterbook.org/en/stable/basics/build.html" class="uri">https://jupyterbook.org/en/stable/basics/build.html</a></p>
<p>To render <code>jupyter-book</code> to HTML:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">jb</span> build <span class="op">&lt;</span>folder_containing_report_files<span class="op">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Detailed docs for building PDFs are here: <a href="https://jupyterbook.org/en/stable/advanced/pdf.html#build-a-pdf" class="uri">https://jupyterbook.org/en/stable/advanced/pdf.html#build-a-pdf</a> (including what dependencies are needed).</p>
<p>To render <code>jupyter-book</code> to PDF (converts HTML to PDF):</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">jupyter-book</span> build <span class="op">&lt;</span>folder_containing_report_files<span class="op">&gt;</span> --builder pdfhtml</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>To render <code>jupyter-book</code> to PDF using LaTeX:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">jb</span> build <span class="op">&lt;</span>folder_containing_report_files<span class="op">&gt;</span> --builder pdflatex</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../lectures/910-functions-in-r.html" class="pagination-link" aria-label="Defining functions in R">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Defining functions in R</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->




</body></html>